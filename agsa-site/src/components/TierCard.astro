---
import BenefitsList from "./BenefitsList.astro";

interface Tier {
  id: string;
  name: string;
  priceLabel: string;
  description: string;
  termLabel: string;
  benefits: string[];
  suggestedFor: string[];
  jerseyLogoAllowed: boolean;
  barcroftBannerIncluded: boolean;
}

interface Props {
  tier: Tier;
}

const { tier } = Astro.props as Props;
const isLogoTier = tier.id === "division-logo";
---

<article class="card p-5" data-tier-card={tier.id}>
  <div class="flex items-start justify-between gap-3">
    <div>
      <p class="m-0 text-xs font-semibold uppercase tracking-wide text-brand-primary">{tier.termLabel}</p>
      <h3 class="font-display text-3xl text-brand-secondary">{tier.name}</h3>
    </div>
    {isLogoTier && (
      <span class="rounded-full bg-brand-secondary px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white">
        Only tier with jersey logo
      </span>
    )}
  </div>
  <p class="mt-2 text-sm font-semibold text-brand-primary">{tier.priceLabel}</p>
  <p class="mt-2 text-sm text-slate-600">{tier.description}</p>
  <div class="mt-3 flex flex-wrap gap-2">
    {tier.suggestedFor.map((tag) => (
      <span class="rounded-full bg-brand-mist px-2.5 py-1 text-xs font-semibold text-brand-secondary">{tag}</span>
    ))}
  </div>
  <div class="mt-4">
    <BenefitsList benefits={tier.benefits.slice(0, 4)} />
  </div>
  <p class="mt-3 text-xs text-slate-600">
    Banner at Barcroft Field 3: <strong>{tier.barcroftBannerIncluded ? "Included" : "Not included"}</strong>
  </p>
  <button type="button" class="btn-primary mt-4 w-full" data-tier-select={tier.id}>
    Select {tier.name}
  </button>
</article>
