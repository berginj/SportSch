---
import BaseLayout from "../layouts/BaseLayout.astro";
import site from "../config/site.json";
import LastUpdated from "../components/LastUpdated.astro";
---

<BaseLayout title="Contact" path="/contact">
  <section class="container-shell py-12">
    <h1 class="font-display text-5xl text-brand-secondary">Contact AGSA</h1>
    <p class="mt-4 max-w-3xl text-slate-600">
      Primary support email: <a href={`mailto:${site.contactEmail}`}>{site.contactEmail}</a>.
      We typically respond within <strong>24-48 hours</strong>.
    </p>
    <LastUpdated date={site.lastUpdated} />
  </section>

  <section class="container-shell pb-12">
    <div class="grid gap-6 lg:grid-cols-[1.2fr_0.8fr]">
      <form class="card p-6" action="https://formspree.io/f/PLACEHOLDER_FORM_ID" method="POST">
        <h2 class="font-display text-3xl text-brand-secondary">Send a Message</h2>
        <p class="mt-2 text-sm text-slate-600">Choose a category so your message is routed to the right team quickly.</p>
        <div class="mt-5 grid gap-4 md:grid-cols-2">
          <label class="text-sm font-semibold text-brand-secondary">
            First name
            <input class="mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" type="text" name="firstName" required />
          </label>
          <label class="text-sm font-semibold text-brand-secondary">
            Last name
            <input class="mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" type="text" name="lastName" required />
          </label>
          <label class="text-sm font-semibold text-brand-secondary">
            Email
            <input class="mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" type="email" name="email" required />
          </label>
          <label class="text-sm font-semibold text-brand-secondary">
            Category
            <select class="mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" name="category" required>
              <option value="Registration">Registration</option>
              <option value="Schedule">Schedule</option>
              <option value="Coaching">Coaching</option>
              <option value="Sponsorship">Sponsorship</option>
            </select>
          </label>
          <label class="text-sm font-semibold text-brand-secondary md:col-span-2">
            Message
            <textarea class="mt-2 min-h-36 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" name="message" required></textarea>
          </label>
          <input type="text" name="_gotcha" class="hidden" tabindex="-1" autocomplete="off" aria-hidden="true" />
        </div>
        <button type="submit" class="btn-primary mt-5">Send Inquiry</button>
      </form>

      <aside class="card p-6">
        <h2 class="font-display text-3xl text-brand-secondary">Routing Contacts</h2>
        <ul class="mt-4 space-y-2 text-sm">
          <li><strong>Registration:</strong> <a href={`mailto:${site.contactRouting.registration}`}>{site.contactRouting.registration}</a></li>
          <li><strong>Schedule:</strong> <a href={`mailto:${site.contactRouting.schedule}`}>{site.contactRouting.schedule}</a></li>
          <li><strong>Coaching:</strong> <a href={`mailto:${site.contactRouting.coaching}`}>{site.contactRouting.coaching}</a></li>
          <li><strong>Sponsorship:</strong> <a href={`mailto:${site.contactRouting.sponsorship}`}>{site.contactRouting.sponsorship}</a></li>
        </ul>
        <p class="mt-4 text-sm text-slate-600">
          Fallbacks: <a href={`mailto:${site.contactEmail}`}>email</a>, <a href={site.socials.instagramUrl} target="_blank" rel="noreferrer">Instagram</a>.
        </p>
      </aside>
    </div>
  </section>
</BaseLayout>
