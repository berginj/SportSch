---
import BaseLayout from "../../layouts/BaseLayout.astro";
import settings from "../../config/sponsorship-settings.json";

const appId = Astro.url.searchParams.get("appId") || "";
const tierId = Astro.url.searchParams.get("tierId") || "";
---

<BaseLayout title="Upload Sponsor Logo" path="/sponsor/upload-logo">
  <section class="container-shell py-12">
    <article class="card p-6">
      <h1 class="font-display text-5xl text-brand-secondary">Upload sponsor logo</h1>
      <p class="mt-3 text-sm text-slate-600">Use this form if logo artwork was not included during checkout.</p>

      <form action={settings.logoUploadEndpoint} method="POST" enctype="multipart/form-data" class="mt-5 grid gap-4">
        <label class="text-sm font-semibold text-brand-secondary">
          Application ID
          <input class="mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" name="applicationId" value={appId} required />
        </label>
        <label class="text-sm font-semibold text-brand-secondary">
          Tier ID
          <input class="mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" name="tierId" value={tierId} />
        </label>
        <label class="text-sm font-semibold text-brand-secondary">
          Contact Email
          <input class="mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" type="email" name="email" required />
        </label>
        <label class="text-sm font-semibold text-brand-secondary">
          Logo file (PNG, JPG, SVG, EPS, PDF)
          <input class="mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" type="file" name="logoFile" accept=".png,.jpg,.jpeg,.svg,.eps,.pdf" required />
        </label>
        <input type="text" name="_gotcha" class="hidden" tabindex="-1" autocomplete="off" aria-hidden="true" />
        <button class="btn-primary" type="submit">Upload logo</button>
      </form>
    </article>
  </section>
</BaseLayout>
